{% extends "base.html" %} {% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <h2 class="mb-4">Register New Person</h2>
        <form id="registrationForm" method="POST" enctype="multipart/form-data">
            <div class="mb-3">
                <label for="display_name" class="form-label">Full Name</label>
                <input
                    type="text"
                    class="form-control"
                    id="display_name"
                    name="display_name"
                    required
                />
            </div>

            <div class="mb-3">
                <label for="age" class="form-label">Age</label>
                <input type="number" class="form-control" id="age" name="age" />
            </div>

            <div class="mb-3">
                <label for="function" class="form-label">Function/Role</label>
                <input
                    type="text"
                    class="form-control"
                    id="function"
                    name="function"
                    required
                />
            </div>

            <div class="mb-3">
                <label for="person_id" class="form-label">Person ID</label>
                <input
                    type="text"
                    class="form-control"
                    id="person_id"
                    name="person_id"
                    required
                />
            </div>

            <div class="mb-3">
                <label for="hashcode" class="form-label">Hashcode</label>
                <input
                    type="text"
                    class="form-control"
                    id="hashcode"
                    name="hashcode"
                />
            </div>

            <div class="mb-3">
                <label for="image" class="form-label">Profile Image</label>
                <input
                    type="file"
                    class="form-control"
                    id="image"
                    name="image"
                    accept="image/*"
                    required
                />
                <div id="imagePreview" class="mt-2"></div>
            </div>

            <button type="submit" class="btn btn-primary">Register</button>
        </form>
    </div>
</div>

{% block scripts %}
<script>
    // Image preview functionality
    document.getElementById("image").addEventListener("change", function (e) {
        const preview = document.getElementById("imagePreview");
        const file = e.target.files[0];
        const reader = new FileReader();

        reader.onload = function (e) {
            preview.innerHTML = `<img src="${e.target.result}" class="img-fluid" style="max-height: 200px">`;
        };

        if (file) {
            reader.readAsDataURL(file);
        }
    });
</script>
{% endblock %} {% endblock %}
